---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Section from "../components/Section.astro";
import data from "../../data.json";
import AlumniCarousel from "../components/AlumniCarousel.astro";
---

<Layout>
  <Section background="white">
    <div>
      <h1 class="heading text-dark-blue">Our Esteemed Alumni</h1>
      <p class="text-lg text-black opacity-90 my-3">
        Meet some of our incredible alumni who have gone on to achieve great
        things in their respective fields. Their journeys inspire us all.
      </p>
    </div>

    <AlumniCarousel testimonials={data.college.alumni} />
  </Section>

  <script>
    const carousel = document.querySelector(".carousel");
    let currentIndex = 0;

    function autoScroll() {
      const slides = document.querySelectorAll(".carousel-slide");
      const totalSlides = slides.length;

      // Reset all slides
      slides.forEach((slide, index) => {
        slide.style.transform = "scale(0.9)";
        slide.style.opacity = "0.5";
      });

      // Bring the current slide into focus
      slides[currentIndex].style.transform = "scale(1)";
      slides[currentIndex].style.opacity = "1";

      // Scroll carousel
      carousel.style.transform = `translateX(-${currentIndex * 100}%)`;

      // Move to the next slide
      currentIndex = (currentIndex + 1) % totalSlides;
    }

    setInterval(autoScroll, 3000); // Auto-scroll every 3 seconds
  </script>
</Layout>

<style>
  .carousel-container {
    width: 100%;
  }
  .carousel {
    display: flex;
    gap: 2rem;
    transform: translateX(0);
  }
  .carousel-slide {
    transform-origin: center;
    transition:
      transform 0.5s ease,
      opacity 0.5s ease;
  }
  .heading {
    @apply font-oswald text-[40px] font-[500] tracking-wide;
  }
</style>
